!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{constructor(e,t,n,r,l){this.firstName=e,this.lastName=t,this.address=n,this.city=r,this.email=l}}document.getElementById("form").reset();let l=JSON.parse(localStorage.getItem("product")),o=document.querySelector("div.product-added"),a=[];if(null==l||0==l)o.innerHTML='<p class="panier-message">Votre panier est actuellement vide</p>';else{const e=e=>{let t,n=localStorage.getItem("product")?JSON.parse(localStorage.getItem("product")):[];for(let r=0;r<n.length;r++)if(n[r].id===e){t=r;break}void 0!==t&&(n.splice(t,1),localStorage.setItem("product",JSON.stringify(n)))},t=()=>{let e=0;for(let t=0;t<l.length;t++)e+=l[t].price;return e};let n=document.createElement("ul");n.classList.add("list-group"),o.appendChild(n);let r=document.createElement("a");r.classList.add("text-decoration-none"),r.href="panier.html",r.style.textAlign="center",r.textContent="Vider le panier",n.appendChild(r),r.addEventListener("click",e=>{localStorage.clear()});let i=document.createElement("div");i.classList.add("list-group-item"),i.innerHTML=`<p class="amount">Montant total du panier: <strong>${t()} €</strong></p>\n                            <p class="text-muted">${l.length} produits</p>`;for(let t=0;t<l.length;t++){a.push(l[t].id);let r=document.createElement("li");r.classList.add("list-group-item");let o=document.createElement("p");o.classList.add("font-weight-bold"),o.innerHTML=l[t].name;let d=document.createElement("p");d.classList.add("font-weight-light"),d.innerHTML=l[t].varnish;let c=document.createElement("p");c.innerHTML=l[t].price+" €";let s=document.createElement("a");s.classList.add("text-decoration-none"),s.href="panier.html",s.textContent="supprimer",n.appendChild(r),r.appendChild(o),r.appendChild(d),r.appendChild(c),r.appendChild(s),n.appendChild(i),s.addEventListener("click",()=>{e(l[t].id)})}}let i=document.getElementById("lastname"),d=document.getElementById("firstname"),c=document.getElementById("address"),s=document.getElementById("city"),u=document.getElementById("email");const p=()=>{document.location.href="confirmation.html"};document.querySelector("form > button").addEventListener("click",e=>{e.preventDefault(),(()=>{let e=new XMLHttpRequest;e.onload=()=>{if(e.readyState===e.DONE&&201===e.status){let t=JSON.parse(e.responseText);localStorage.setItem("confirm",JSON.stringify(t)),p()}},e.open("POST","http://localhost:3000/api/furniture/order"),e.setRequestHeader("Content-Type","application/json");let t={contact:new r(d.value,i.value,c.value,s.value,u.value),products:a};e.send(JSON.stringify(t))})()})}]);